---
layout: default-layout
title: Dynamsoft Document Normalizer for Android SDK - Release Notes
description: This is the release notes page of Dynamsoft Document Normalizer for Android SDK 2.x.
keywords: release notes, android
needAutoGenerateSidebar: true
needGenerateH3Content: false
noTitleIndex: true
permalink: /programming/android/release-notes/android-2.html
---

# Release Notes for Android SDK - v2.x

## 2.2.10 (03/07/2024)

### New

- Updated the template system
  - Added `ReferenceTaskNameArray` under [`Location.ReferenceObjectFilter`]({{ site.dcv_parameters }}reference/target-roi-def/location.html){:target="_blank"} to filter the reference objects generated by the task name.
  - Added the support of the [`OutputTaskSetting`]({{ site.dcv_parameters }}reference/output-task-setting/index.html){:target="_blank"} definition. The following subparameters are available in `OutputTaskSetting` object:
    - [`OutputCondition`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html){:target="_blank"}
      - [`TaskResultArray`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#taskresultarray){:target="_blank"}
      - [`TargetROIDefName`]({{ site.dcv_parameters }}reference/target-roi-def/index.html#targetroidefname){:target="_blank"}
      - [`TaskSettingNameArray`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#tasksettingnamearray){:target="_blank"}
      - [`BackwardReferenceOutput`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#backwardreferenceoutput){:target="_blank"}
        - `ReferenceTaskNameArray`
        - `ReferenceResultTypeArray`
      - [`Operator`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html){:target="_blank"}
    - [`Name`]({{ site.dcv_parameters }}reference/output-task-setting/name.html){:target="_blank"}
  - [`Offset`]({{ site.dcv_parameters }}reference/target-roi-def/location.html#offset){:target="_blank"} parameter is optimized.
    - Added `ReferenceObjectType` to specify whether the reference object is an atomic object or the whole image.
    - Added `ReferenceXAxis` & `ReferenceYAxis` to define the X & Y axis.
    - Modified `FirstPoint`, `SecondPoint`, `ThirdPoint` & `FourthPoint`. You can specify whether the X or Y coordinate of the point is measured by percentage.
    - Deprecated `ReferenceObjectSize` Type.
- The following classes are migrated from `DynamsoftCore.aar` into `DynamsoftCaptureVision.aar`:
  - [`CapturedResult`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/captured-result.html)
  - [`IntermediateResultReceiver`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html)
  - [`CapturedResultReceiver`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/captured-result-receiver.html)
  - [`CapturedResultFilter`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/captured-result-filter.html)
  - [`IntermediateResultManager`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/intermediate-result-manager.html)
- Added a new call back method [`onShortLinesUnitReceived`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html#onshortlinesunitreceived) to the [`IntermediateResultReceiver`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html) class.
- Added methods [`pauseCapturing`]({{ site.dcv_android_api }}capture-vision-router/multiple-file-processing.html#pausecapturing) and [`resumeCapturing`]({{ site.dcv_android_api }}capture-vision-router/multiple-file-processing.html#resumecapturing). Two new enumeration members, `CapturedStatePaused` and `CapturedStateResumed`, are added to [`CapturedState`]({{ site.dcv_enumerations }}capture-vision-router/capture-state.html?lang=android) as well.
- Added a new property [`documentSettings`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html#documentsettings) to class [`SimplifiedCaptureVisionSettings`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html). The corresponding class [`SimplifiedDocumentNormalizerSettings`]({{ site.ddn_android_api }}simplified-document-normalizer-settings.html) is added to the `DynamsoftDocumentNormalizer.aar` to store the `documentSettings`.
- Added a new prop the following methods to the [`ObservationParameters`]({{ site.dcv_android_api }}core/intermediate-results/observation-parameters.html) class to specify the `input only` result unit.
  - `setResultUnitTypesOnlyForInput`
  - `getResultUnitTypesOnlyForInput`
- Added the following methods to the [`RegionObjectElement`]({{ site.dcv_android_api }}core/intermediate-results/region-object-element.html) class to support the intermediate result modification.
  - `setLocation`
  - `clone`
  - `retain`
  - `release`
- Added a new method `replace` to the [`IntermediateResultUnit`]({{ site.dcv_android_api }}core/intermediate-results/intermediate-result-unit.html) class to support the replacement of intermediate result units.
- Added `setImageData` methods to the following classes:
  - [`ColourImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/colour-image-unit.html)
  - [`ScaledDownColourImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/scaled-down-colour-image-unit.html)
  - [`GrayscaleImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/grayscale-image-unit.html)
  - [`TransformedGrayscaleImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/transformed-grayscale-image-unit.html)
  - [`EnhancedGrayscaleImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/enhanced-grayscale-image-unit.html)
  - [`BinaryImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/binary-image-unit.html)
  - [`TextureRemovedGrayscaleImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/texture-removed-grayscale-image-unit.html)
  - [`TextureRemovedBinaryImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/texture-removed-binary-image-unit.html)
  - [`TextRemovedBinaryImageUnit`]({{ site.dcv_android_api }}core/intermediate-results/text-removed-binary-image-unit.html)
- Added new methods to the [`PredetectedRegionsUnit`]({{ site.dcv_android_api }}core/intermediate-results/predetected-regions-unit.html) class to add, remove or set the predetected regions.
- Added new methods to the [`LineSegmentsUnit`]({{ site.dcv_android_api }}core/intermediate-results/line-segments-unit.html) class to add, remove or set the line segments.
- Added new methods to the [`TextZonesUnit`]({{ site.dcv_android_api }}core/intermediate-results/text-zones-unit.html) class to add, remove or set the text zones. Added a new class CTextZone to store the information of a single text zone.
- Added a new method `setContours` to the [`ContourUnit`]({{ site.dcv_android_api }}core/intermediate-results/contour-unit.html) class.
- Added new methods to the [`TextureDetectionResultUnit`]({{ site.dcv_android_api }}core/intermediate-results/texture-detection-result-unit.html) class to set the X & Y spacing.
- Added a new intermediate result unit, [`ShortLinesUnit`]({{ site.dcv_android_api }}core/intermediate-results/short-lines-unit.html), to output the detected short lines. The corresponding enumeration member `IntermediateResultUnitTypeShortLines` is added to the [`IntermediateResultUnitType`]({{ site.dcv_enumerations }}core/intermediate-result-unit-type.html?lang=android).
- Added the following methods to the [`CapturedResultItem`]({{ site.dcv_android_api }}core/basic-structures/captured-result-item.html) class
  - `getTargetROIDefName`
  - `getTaskName`
  - `retain`
  - `release`
- Added the following new error codes
  - `EC_IMAGE_SIZE_NOT_MATCH`
  - `EC_IMAGE_PIXEL_FORMAT_NOT_MATCH`
  - `EC_SECTION_LEVEL_RESULT_IRREPLACEABLE`
  - `EC_AXIS_DEFINITION_INCORRECT`
  - `EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT`
  - `EC_TEXT_LINE_GROUP_REGEX_CONFLICT`
- Added the following methods to the [`CapturedResult`]({{ site.dcv_android_api }}core/basic-structures/captured-result.html) class.
  - `retain`
  - `release`
- Added a new supported image pixel format, binary 8 inverted. The corresponding enumeration member is added to the [`ImagePixelFormat`]({{ site.dcv_enumerations }}core/image-pixel-format.html?lang=android).
- Added return value for the `retain` method of the [`IntermediateResultUnit`]({{ site.dcv_android_api }}core/intermediate-results/intermediate-result-unit.html) class. The method will return the pointer of the current `IntermediateResultUnit`.

### Break Changes

- Changed the logic of the [`stopCapturing`]({{ site.dcv_android_api }}capture-vision-router/multiple-file-processing.html#stopCapturing) method.
  - [`CaptureResultReceiver`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/captured-result-receiver.html) will not receive results after `stopCapturing` is triggered with `waitForRemainingTasks` false.
  - Support stop capturing after the [`pauseCapturing`]({{ site.dcv_android_api }}capture-vision-router/multiple-file-processing.html#pauseCapturing) method is triggered.
- Changed the logic of the [`capturedResultItemTypes`]({{ site.dcv_android_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html#capturedresultitemtypes) setting of `SimplifiedCaptureVisionSettings`:
  - If the result item types don't match the specified template, the method [`updateSettings`]({{ site.dcv_android_api }}capture-vision-router/settings.html#updatesettings) will return the error code `EC_PARAMETER_VALUE_INVALID` with the message "The captured result item types do not match the task configurations in the template".
  - Based on the `capturedResultItemTypes` setting, the irrelevant tasks will be removed from the template.
  - The `capturedResultItemTypes` should include at least one of the `CRIT_BARCODE`, `CRIT_TEXT_LINE`, `CRIT_DETECTED_QUAD`, `CRIT_NORMALIZED_IMAGE`. Otherwise, the method `updateSettings` will return the error code `EC_PARAMETER_VALUE_INVALID` with the message "The captured result item types should contain at least one task result type".
- Refactored the [`Contour`]({{ site.dcv_android_api }}core/basic-structures/contour.html) class. Please view API reference - [`Contour`]({{ site.dcv_android_api }}core/basic-structures/contour.html) class for more information.

### Fixed

- Fixed a crash bug that might happen when triggering the [`setNextImageToReturn`]({{ site.dcv_android_api }}core/basic-structures/image-source-adapter.html#setnextimagetoreturn) method of the `ImageSourceAdapter` class.

## 2.0.20 (12/12/2023)

### New

- Added parameter `Page` to `ImageSource` object.
- Added a new method `setPages` to the class `DirectoryFetcher` and class `FileFetcher`.
- Added `ImageSourceErrorListener` to receive the errors from an image source.
- Added method `setErrorListener` to class `ImageSourceAdapter` to add the `ImageSourceErrorListener`.
- Added a new parameter `minImageCaptureInterval` which can be set via the class `SimplifiedCaptureVisionSettings` or the `CaptureVisionTemplate` object of a JSON template file.
- Added "UNKNOWN" as a supported value of the `TextDetectionMode.direction` parameter. Changed the default value of `direction` to "UNKNOWN".
- Added the following error codes:
  - EC_FILE_ALREADY_EXISTS
  - EC_CREATE_FILE_FAILED
  - EC_IMGAE_DATA_INVALID

### Improved

- The class `DirectoryFetcher` and `FileFetcher` will be able to return error codes via `ImageSourceErrorListener`
- Updated the error codes of the method `saveToFile` of the class `ImageManager`.
- Optimize the logic to support calling `IntermediateResultManager.addResultReceiver` and  `IntermediateResultManager.removeResultReceiver` after `startCapturing`.
- Added ability to output all templates via methods `outputSettings` and `outputSettingsToFile` by specifying "*" for the parameter `templateName`.

### Fixed

- Small fixes and tweaks.

### Changed

- Updated the internal package dependencies rules.
- Changed the upper limit to the `duplicateForgetTime`, which is 3 minutes.
- Changed the timing of `onOriginalImageResultReceived` so that it is triggered immediately after receiving the image.

## 2.0.10 (08/10/2023)

{%- include release-notes/product-highlight-2.0.0.md -%}
