---
layout: default-layout
title: Release Notes v2.x - Dynamsoft Document Normalizer iOS Edition
description: This is the release notes page of Dynamsoft Document Normalizer iOS edition v2.x.
keywords: release notes, ios, 
needAutoGenerateSidebar: true
needGenerateH3Content: false
noTitleIndex: true
permalink: /programming/ios/release-notes/ios-2.html
---

# Release Notes for iOS SDK - v2.x

## 2.2.10 (03/07/2024)

### New

- Updated the template system
  - Added `ReferenceTaskNameArray` under [`Location.ReferenceObjectFilter`]({{ site.dcv_parameters }}reference/target-roi-def/location.html){:target="_blank"} to filter the reference objects generated by the task name.
  - Added the support of the [`OutputTaskSetting`]({{ site.dcv_parameters }}reference/output-task-setting/index.html){:target="_blank"} definition. The following subparameters are available in `OutputTaskSetting` object:
    - [`OutputCondition`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html){:target="_blank"}
      - [`TaskResultArray`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#taskresultarray){:target="_blank"}
      - [`TargetROIDefName`]({{ site.dcv_parameters }}reference/target-roi-def/index.html#targetroidefname){:target="_blank"}
      - [`TaskSettingNameArray`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#tasksettingnamearray){:target="_blank"}
      - [`BackwardReferenceOutput`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html#backwardreferenceoutput){:target="_blank"}
        - `ReferenceTaskNameArray`
        - `ReferenceResultTypeArray`
      - [`Operator`]({{ site.dcv_parameters }}reference/output-task-setting/output-condition.html){:target="_blank"}
    - [`Name`]({{ site.dcv_parameters }}reference/output-task-setting/name.html){:target="_blank"}
  - [`Offset`]({{ site.dcv_parameters }}reference/target-roi-def/location.html#offset){:target="_blank"} parameter is optimized.
    - Added `ReferenceObjectType` to specify whether the reference object is an atomic object or the whole image.
    - Added `ReferenceXAxis` & `ReferenceYAxis` to define the X & Y axis.
    - Modified `FirstPoint`, `SecondPoint`, `ThirdPoint` & `FourthPoint`. You can specify whether the X or Y coordinate of the point is measured by percentage.
    - Deprecated `ReferenceObjectSize` Type.
- The following classes are migrated from `DynamsoftCore.framework` into `DynamsoftCaptureVision.framework`:
  - [`DSCapturedResult`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/captured-result.html)
  - [`DSIntermediateResultReceiver`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html)
  - [`DSCapturedResultReceiver`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/captured-result-receiver.html)
  - [`DSCapturedResultFilter`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/captured-result-filter.html)
  - [`DSIntermediateResultManager`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/intermediate-result-manager.html)
- Added a new call back method [`onShortLinesUnitReceived`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html#onshortlinesunitreceived) to the [`DSIntermediateResultReceiver`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/intermediate-result-receiver.html) class.
- Added methods [`pauseCapturing`]({{ site.dcv_ios_api }}capture-vision-router/multiple-file-processing.html#pausecapturing) and [`resumeCapturing`]({{ site.dcv_ios_api }}capture-vision-router/multiple-file-processing.html#resumecapturing). Two new enumeration members, `CapturedStatePaused` and `CapturedStateResumed`, are added to [`DSCapturedState`]({{ site.dcv_enumerations }}capture-vision-router/capture-state.html?lang=objc,swift) as well.
- Added a new property [`documentSettings`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html#documentsettings) to class [`DSSimplifiedCaptureVisionSettings`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html). The corresponding class [`DSSimplifiedDocumentNormalizerSettings`]({{ site.ddn_ios_api }}simplified-document-normalizer-settings.html) is added to the `DynamsoftDocumentNormalizer.framework` to store the `documentSettings`.
- Added a new property [`resultUnitTypesOnlyForInput`]({{ site.dcv_ios_api }}core/intermediate-results/observation-parameters.html#resultunittypesonlyforinput) to the `ObservationParameters` class to specify the `input only` result unit.
- Added the following methods to the [`RegionObjectElement`]({{ site.dcv_ios_api }}core/intermediate-results/region-object-element.html) class to support the intermediate result modification.
  - `setLocation`
  - `clone`
  - `retain`
  - `release`
- Added a new method `replace` to the [`DSIntermediateResultUnit`]({{ site.dcv_ios_api }}core/intermediate-results/intermediate-result-unit.html) class to support the replacement of intermediate result units.
- Added `setImageData` methods to the following classes:
  - [`DSColourImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/colour-image-unit.html)
  - [`DSScaledDownColourImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/scaled-down-colour-image-unit.html)
  - [`DSGrayscaleImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/grayscale-image-unit.html)
  - [`DSTransformedGrayscaleImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/transformed-grayscale-image-unit.html)
  - [`DSEnhancedGrayscaleImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/enhanced-grayscale-image-unit.html)
  - [`DSBinaryImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/binary-image-unit.html)
  - [`DSTextureRemovedGrayscaleImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/texture-removed-grayscale-image-unit.html)
  - [`DSTextureRemovedBinaryImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/texture-removed-binary-image-unit.html)
  - [`DSTextRemovedBinaryImageUnit`]({{ site.dcv_ios_api }}core/intermediate-results/text-removed-binary-image-unit.html)
- Added new methods to the [`DSPredetectedRegionsUnit`]({{ site.dcv_ios_api }}core/intermediate-results/predetected-regions-unit.html) class to add, remove or set the predetected regions.
- Added new methods to the [`DSLineSegmentsUnit`]({{ site.dcv_ios_api }}core/intermediate-results/line-segments-unit.html) class to add, remove or set the line segments.
- Added new methods to the [`DSTextZonesUnit`]({{ site.dcv_ios_api }}core/intermediate-results/text-zones-unit.html) class to add, remove or set the text zones. Added a new class CTextZone to store the information of a single text zone.
- Added a new method `setContours` to the [`DSContourUnit`]({{ site.dcv_ios_api }}core/intermediate-results/contour-unit.html) class.
- Added new methods to the [`DSTextureDetectionResultUnit`]({{ site.dcv_ios_api }}core/intermediate-results/texture-detection-result-unit.html) class to set the X & Y spacing.
- Added a new intermediate result unit, [`DSShortLinesUnit`]({{ site.dcv_ios_api }}core/intermediate-results/short-lines-unit.html), to output the detected short lines. The corresponding enumeration member `DSIntermediateResultUnitTypeShortLines` is added to the [`DSIntermediateResultUnitType`]({{ site.dcv_enumerations }}core/intermediate-result-unit-type.html?lang=objc,swift).
- Added the following methods to the [`DSCapturedResultItem`]({{ site.dcv_ios_api }}core/basic-structures/captured-result-item.html) class
  - `getTargetROIDefName`
  - `getTaskName`
  - `retain`
  - `release`
- Added the following new error codes
  - `DSErrorImageSizeNotMatch`
  - `DSErrorImagePixelFormatNotMatch`
  - `DSErrorSectionLevelResultIrreplaceable`
  - `DSErrorAxisDefinitionIncorrect`
  - `DSErrorTextLineGroupLayoutConflict`
  - `DSErrorTextLineGroupRegexConflict`
- Added the following methods to the [`DSCapturedResult`]({{ site.dcv_ios_api }}core/basic-structures/captured-result.html) class.
  - `retain`
  - `release`
- Added a new supported image pixel format, binary 8 inverted. The corresponding enumeration member is added to the [`DSImagePixelFormat`]({{ site.dcv_enumerations }}core/image-pixel-format.html?lang=objc,swift).
- Added return value for the `retain` method of the [`DSIntermediateResultUnit`]({{ site.dcv_ios_api }}core/intermediate-results/intermediate-result-unit.html) class. The method will return the pointer of the current `DSIntermediateResultUnit`.

### Break Changes

- Changed the logic of the [`stopCapturing`]({{ site.dcv_ios_api }}capture-vision-router/multiple-file-processing.html#stopCapturing) method.
  - [`DSCaptureResultReceiver`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/captured-result-receiver.html) will not receive results after `stopCapturing` is triggered with `waitForRemainingTasks` false.
  - Support stop capturing after the [`pauseCapturing`]({{ site.dcv_ios_api }}capture-vision-router/multiple-file-processing.html#pauseCapturing) method is triggered.
- Changed the logic of the [`capturedResultItemTypes`]({{ site.dcv_ios_api }}capture-vision-router/auxiliary-classes/simplified-capture-vision-settings.html#capturedresultitemtypes) setting of `DSSimplifiedCaptureVisionSettings`:
  - If the result item types don't match the specified template, the method [`updateSettings`]({{ site.dcv_ios_api }}capture-vision-router/settings.html#updatesettings) will return the error code `DSErrorParameterValueInvalid` with the message "The captured result item types do not match the task configurations in the template".
  - Based on the `capturedResultItemTypes` setting, the irrelevant tasks will be removed from the template.
  - The `capturedResultItemTypes` should include at least one of the `DSCapturedResultItemTypeBarcode`, `DSCapturedResultItemTypeTextLine`, `DSCapturedResultItemTypeDetectedQuad`, `DSCapturedResultItemTypeNormalizedImage`. Otherwise, the method `updateSettings` will return the error code `DSErrorParameterValueInvalid` with the message "The captured result item types should contain at least one task result type".
- Refactored the [`DSContour`]({{ site.dcv_ios_api }}core/basic-structures/contour.html) class. Please view API reference - [`DSContour`]({{ site.dcv_ios_api }}core/basic-structures/contour.html) class for more information.

### Fixed

- Fixed a crash bug that might happen when triggering the [`setNextImageToReturn`]({{ site.dcv_ios_api }}core/basic-structures/image-source-adapter.html#setnextimagetoreturn) method of the `DSImageSourceAdapter` class.

## 2.0.20 (12/12/2023)

### New

- Added parameter `Page` to `ImageSource` object.
- Added a new method `setPages` to the class `DirectoryFetcher` and class `FileFetcher`.
- Added `ImageSourceErrorListener` to receive the errors from an image source.
- Added method `setErrorListener` to class `ImageSourceAdapter` to add the `ImageSourceErrorListener`.
- Added a new parameter `minImageCaptureInterval` which can be set via the class `SimplifiedCaptureVisionSettings` or the `CaptureVisionTemplate` object of a JSON template file.
- Added "UNKNOWN" as a supported value of the `TextDetectionMode.direction` parameter. Changed the default value of `direction` to "UNKNOWN".
- Added the following error codes:
  - EC_FILE_ALREADY_EXISTS
  - EC_CREATE_FILE_FAILED
  - EC_IMGAE_DATA_INVALID

### Improved

- The class `DirectoryFetcher` and `FileFetcher` will be able to return error codes via `ImageSourceErrorListener`
- Updated the error codes of the method `saveToFile` of the class `ImageManager`.
- Optimize the logic to support calling `IntermediateResultManager.addResultReceiver` and  `IntermediateResultManager.removeResultReceiver` after `startCapturing`.
- Added ability to output all templates via methods `outputSettings` and `outputSettingsToFile` by specifying "*" for the parameter `templateName`.

### Fixed

- Small fixes and tweaks.

### Changed

- Updated the internal package dependencies rules.
- Changed the upper limit to the `duplicateForgetTime`, which is 3 minutes.
- Changed the timing of `onOriginalImageResultReceived` so that it is triggered immediately after receiving the image.

## 2.0.10 (08/10/2023)

{%- include release-notes/product-highlight-2.0.0.md -%}
